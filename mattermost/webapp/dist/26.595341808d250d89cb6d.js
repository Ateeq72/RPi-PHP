webpackJsonp([26],{1695:function(e,a,t){"use strict";(function(e){var n=t(98),s=n&&n.__esModule?function(){return n["default"]}:function(){return n};t.d(s,"a",s);var r=t(6),i=r&&r.__esModule?function(){return r["default"]}:function(){return r};t.d(i,"a",i);var l=t(3),m=l&&l.__esModule?function(){return l["default"]}:function(){return l};t.d(m,"a",m);var o=t(4),u=o&&o.__esModule?function(){return o["default"]}:function(){return o};t.d(u,"a",u);var c=t(7),d=c&&c.__esModule?function(){return c["default"]}:function(){return c};t.d(d,"a",d);var g=t(2),_=g&&g.__esModule?function(){return g["default"]}:function(){return g};t.d(_,"a",_);var f=t(18),v=t(37),h=t(75),p=t(13),E=t(1633),M=t(152),w=t(26),N=t(54),b=t(53),y=t(12),C=y&&y.__esModule?function(){return y["default"]}:function(){return y};t.d(C,"a",C);var T=t(1),F=T&&T.__esModule?function(){return T["default"]}:function(){return T};t.d(F,"a",F);var k=t(1632),S=k&&k.__esModule?function(){return k["default"]}:function(){return k};t.d(S,"a",S);var L=function(a){function t(e){m()(this,t);var a=d()(this,(t.__proto__||i()(t)).call(this,e));a.onTeamChange=a.onTeamChange.bind(a);var n=a.getStateFromStores(!1);return a.state=n,a}return _()(t,a),u()(t,[{key:"componentDidMount",value:function(){v.a.addChangeListener(this.onTeamChange),w.getAllTeamListings()}},{key:"componentWillUnmount",value:function(){v.a.removeChangeListener(this.onTeamChange)}},{key:"onTeamChange",value:function(){this.setState(this.getStateFromStores(!0))}},{key:"getStateFromStores",value:function(e){return{teams:v.a.getAll(),teamMembers:v.a.getTeamMembers(),teamListings:v.a.getTeamListings(),loaded:e}}},{key:"render",value:function(){var a=null,t=[],n=new s.a,r=p.isSystemAdmin(f.a.getCurrentUser().roles),i=0;for(var l in this.state.teamMembers)if(this.state.teamMembers.hasOwnProperty(l)){var m=this.state.teamMembers[l],o=this.state.teams[m.team_id];n[m.team_id]=!0,i++,t.push(F.a.createElement("div",{key:"team_"+o.name,className:"signup-team-dir"},F.a.createElement(b.b,{to:"/"+o.name+"/channels/town-square"},F.a.createElement("span",{className:"signup-team-dir__name"},o.display_name),F.a.createElement("span",{className:"fa fa-angle-right right signup-team-dir__arrow","aria-hidden":"true"}))))}var u=[];for(var c in this.state.teamListings)if(this.state.teamListings.hasOwnProperty(c)&&!n[c]){var d=this.state.teamListings[c];u.push(F.a.createElement("div",{key:"team_"+d.name,className:"signup-team-dir"},F.a.createElement(b.b,{to:"/signup_user_complete/?id="+d.invite_id},F.a.createElement("span",{className:"signup-team-dir__name"},d.display_name),F.a.createElement("span",{className:"fa fa-angle-right right signup-team-dir__arrow","aria-hidden":"true"}))))}0!==i||0!==t.length||0!==u.length||"true"!==e.window.mm_config.EnableTeamCreation&&!r?0===i&&0===t.length&&0===u.length?t=F.a.createElement("div",{className:"signup-team-dir-err"},F.a.createElement("div",null,F.a.createElement(y.FormattedMessage,{id:"signup_team.no_open_teams",defaultMessage:"No teams are available to join. Please ask your administrator for an invite."}))):0===t.length&&u.length>0&&(t=null):t=F.a.createElement("div",{className:"signup-team-dir-err"},F.a.createElement("div",null,F.a.createElement(y.FormattedMessage,{id:"signup_team.no_open_teams_canCreate",defaultMessage:"No teams are available to join. Please create a new team or ask your administrator for an invite."}))),t&&(a=F.a.createElement("div",{className:"signup__content"},F.a.createElement("h4",null,F.a.createElement(y.FormattedMessage,{id:"signup_team.choose",defaultMessage:"Your teams:"})),F.a.createElement("div",{className:"signup-team-all"},t)));var g;u.length>0&&(g=F.a.createElement("div",{className:"signup__content"},F.a.createElement("h4",null,F.a.createElement(y.FormattedMessage,{id:"signup_team.join_open",defaultMessage:"Teams you can join: "})),F.a.createElement("div",{className:"signup-team-all"},u))),this.state.loaded||(g=F.a.createElement(M.a,null));var _=null;r&&"false"===e.window.mm_config.EnableTeamCreation&&(_=F.a.createElement(y.FormattedMessage,{id:"login.createTeamAdminOnly",defaultMessage:"This option is only available for System Administrators, and does not show up for other users."}));var v=void 0;(r||"true"===e.window.mm_config.EnableTeamCreation&&!h.isMobileApp())&&(v=F.a.createElement("div",{className:"margin--extra"},F.a.createElement(b.b,{to:"/create_team",className:"signup-team-login"},F.a.createElement(y.FormattedMessage,{id:"login.createTeam",defaultMessage:"Create a new team"})),F.a.createElement("div",null,_)));var w=void 0;r&&(w=F.a.createElement("div",{className:"margin--extra"},F.a.createElement(b.b,{to:"/admin_console",className:"signup-team-login"},F.a.createElement(y.FormattedMessage,{id:"signup_team_system_console",defaultMessage:"Go to System Console"}))));var C=null;return C="true"===e.window.mm_license.IsLicensed&&"true"===e.window.mm_license.CustomBrand&&"true"===e.window.mm_config.EnableCustomBrand?e.window.mm_config.CustomDescriptionText:F.a.createElement(y.FormattedMessage,{id:"web.root.signup_info",defaultMessage:"All team communication in one place, searchable and accessible anywhere"}),F.a.createElement("div",null,F.a.createElement(E.a,null),F.a.createElement("div",{className:"signup-header"},F.a.createElement("a",{href:"#",onClick:N.emitUserLoggedOutEvent},F.a.createElement("span",{className:"fa fa-chevron-left"}),F.a.createElement(y.FormattedMessage,{id:"navbar_dropdown.logout"}))),F.a.createElement("div",{className:"col-sm-12"},F.a.createElement("div",{className:"signup-team__container"},F.a.createElement("img",{className:"signup-team-logo",src:S.a}),F.a.createElement("h1",null,e.window.mm_config.SiteName),F.a.createElement("h4",{className:"color--light"},C),a,g,v,w)))}}]),t}(F.a.Component);a["default"]=L}).call(a,t(17))}});