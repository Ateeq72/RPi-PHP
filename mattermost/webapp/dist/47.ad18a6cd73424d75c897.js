webpackJsonp([47],{1662:function(e,t,a){"use strict";(function(e){var r=a(6),o=r&&r.__esModule?function(){return r["default"]}:function(){return r};a.d(o,"a",o);var n=a(3),s=n&&n.__esModule?function(){return n["default"]}:function(){return n};a.d(s,"a",s);var l=a(4),i=l&&l.__esModule?function(){return l["default"]}:function(){return l};a.d(i,"a",i);var u=a(7),c=u&&u.__esModule?function(){return u["default"]}:function(){return u};a.d(c,"a",c);var d=a(2),m=d&&d.__esModule?function(){return d["default"]}:function(){return d};a.d(m,"a",m);var f=a(13),p=a(19),_=a(11),h=a(1),w=h&&h.__esModule?function(){return h["default"]}:function(){return h};a.d(w,"a",w);var v=a(23),M=v&&v.__esModule?function(){return v["default"]}:function(){return v};a.d(M,"a",M);var E=a(12),y=E&&E.__esModule?function(){return E["default"]}:function(){return E};a.d(y,"a",y);var g=a(53),b=function(t){function a(e){s()(this,a);var t=c()(this,(a.__proto__||o()(a)).call(this,e));return t.submit=t.submit.bind(t),t.state={},t}return m()(a,t),i()(a,[{key:"submit",value:function(e){var t=this;e.preventDefault();var a={},r=M.a.findDOMNode(this.refs.password).value;if(!r)return a.error=f.localizeMessage("claim.oauth_to_email.enterPwd","Please enter a password."),void this.setState(a);var o=f.isValidPassword(r);if(""!==o)return void this.setState({error:o});var n=M.a.findDOMNode(this.refs.passwordconfirm).value;return n&&r===n?(a.error=null,this.setState(a),void p.a.oauthToEmail(this.props.email,r,function(e){e.follow_link&&g.a.push(e.follow_link)},function(e){t.setState({error:e.message})})):(a.error=f.localizeMessage("claim.oauth_to_email.pwdNotMatch","Password do not match."),void this.setState(a))}},{key:"render",value:function(){var t=null;this.state.error&&(t=w.a.createElement("div",{className:"form-group has-error"},w.a.createElement("label",{className:"control-label"},this.state.error)));var a="form-group";t&&(a+=" has-error");var r=(this.props.currentType===_.a.SAML_SERVICE?_.a.SAML_SERVICE.toUpperCase():f.toTitleCase(this.props.currentType))+" SSO";return w.a.createElement("div",null,w.a.createElement("h3",null,w.a.createElement(E.FormattedMessage,{id:"claim.oauth_to_email.title",defaultMessage:"Switch {type} Account to Email",values:{type:r}})),w.a.createElement("form",{onSubmit:this.submit},w.a.createElement("p",null,w.a.createElement(E.FormattedMessage,{id:"claim.oauth_to_email.description",defaultMessage:"Upon changing your account type, you will only be able to login with your email and password."})),w.a.createElement("p",null,w.a.createElement(E.FormattedMessage,{id:"claim.oauth_to_email.enterNewPwd",defaultMessage:"Enter a new password for your {site} email account",values:{site:e.window.mm_config.SiteName}})),w.a.createElement("div",{className:a},w.a.createElement("input",{type:"password",className:"form-control",name:"password",ref:"password",placeholder:f.localizeMessage("claim.oauth_to_email.newPwd","New Password"),spellCheck:"false"})),w.a.createElement("div",{className:a},w.a.createElement("input",{type:"password",className:"form-control",name:"passwordconfirm",ref:"passwordconfirm",placeholder:f.localizeMessage("claim.oauth_to_email.confirm","Confirm Password"),spellCheck:"false"})),t,w.a.createElement("button",{type:"submit",className:"btn btn-primary"},w.a.createElement(E.FormattedMessage,{id:"claim.oauth_to_email.switchTo",defaultMessage:"Switch {type} to email and password",values:{type:r}}))))}}]),a}(w.a.Component);t["default"]=b,b.defaultProps={},b.propTypes={currentType:w.a.PropTypes.string,email:w.a.PropTypes.string}}).call(t,a(17))}});