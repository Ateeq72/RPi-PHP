webpackJsonp([50],{1659:function(e,a,r){"use strict";(function(e){var t=r(6),l=t&&t.__esModule?function(){return t["default"]}:function(){return t};r.d(l,"a",l);var o=r(3),s=o&&o.__esModule?function(){return o["default"]}:function(){return o};r.d(s,"a",s);var n=r(4),d=n&&n.__esModule?function(){return n["default"]}:function(){return n};r.d(d,"a",d);var i=r(7),m=i&&i.__esModule?function(){return i["default"]}:function(){return i};r.d(m,"a",m);var c=r(2),u=c&&c.__esModule?function(){return c["default"]}:function(){return c};r.d(u,"a",u);var p=r(13),f=r(19),E=r(1),w=E&&E.__esModule?function(){return E["default"]}:function(){return E};r.d(w,"a",w);var _=r(23),v=_&&_.__esModule?function(){return _["default"]}:function(){return _};r.d(v,"a",v);var h=r(12),g=h&&h.__esModule?function(){return h["default"]}:function(){return h};r.d(g,"a",g);var P=function(a){function r(e){s()(this,r);var a=m()(this,(r.__proto__||l()(r)).call(this,e));return a.submit=a.submit.bind(a),a.state={passwordError:"",ldapError:"",ldapPasswordError:"",serverError:""},a}return u()(r,a),d()(r,[{key:"submit",value:function(e){var a=this;e.preventDefault();var r={passwordError:"",ldapError:"",ldapPasswordError:"",serverError:""},t=v.a.findDOMNode(this.refs.emailpassword).value;if(!t)return r.passwordError=p.localizeMessage("claim.email_to_ldap.pwdError","Please enter your password."),void this.setState(r);var l=v.a.findDOMNode(this.refs.ldapid).value.trim();if(!l)return r.ldapError=p.localizeMessage("claim.email_to_ldap.ldapIdError","Please enter your AD/LDAP ID."),void this.setState(r);var o=v.a.findDOMNode(this.refs.ldappassword).value;return o?(this.setState(r),void f.a.emailToLdap(this.props.email,t,l,o,function(e){e.follow_link&&(window.location.href=e.follow_link)},function(e){a.setState({serverError:e.message})})):(r.ldapPasswordError=p.localizeMessage("claim.email_to_ldap.ldapPasswordError","Please enter your AD/LDAP password."),void this.setState(r))}},{key:"render",value:function(){var a=null,r="form-group";this.state.serverError&&(a=w.a.createElement("div",{className:"form-group has-error"},w.a.createElement("label",{className:"control-label"},this.state.serverError)),r+=" has-error");var t=null,l="form-group";this.state.passwordError&&(t=w.a.createElement("div",{className:"form-group has-error"},w.a.createElement("label",{className:"control-label"},this.state.passwordError)),l+=" has-error");var o=null,s="form-group";this.state.ldapError&&(o=w.a.createElement("div",{className:"form-group has-error"},w.a.createElement("label",{className:"control-label"},this.state.ldapError)),s+=" has-error");var n=null,d="form-group";this.state.ldapPasswordError&&(n=w.a.createElement("div",{className:"form-group has-error"},w.a.createElement("label",{className:"control-label"},this.state.ldapPasswordError)),d+=" has-error");var i=void 0;i=e.window.mm_config.LdapLoginFieldName?e.window.mm_config.LdapLoginFieldName:p.localizeMessage("claim.email_to_ldap.ldapId","AD/LDAP ID");var m=void 0;return m=e.window.mm_config.LdapPasswordFieldName?e.window.mm_config.LdapPasswordFieldName:p.localizeMessage("claim.email_to_ldap.ldapPwd","AD/LDAP Password"),w.a.createElement("div",null,w.a.createElement("h3",null,w.a.createElement(h.FormattedMessage,{id:"claim.email_to_ldap.title",defaultMessage:"Switch Email/Password Account to AD/LDAP"})),w.a.createElement("form",{onSubmit:this.submit,className:r},w.a.createElement("p",null,w.a.createElement(h.FormattedMessage,{id:"claim.email_to_ldap.ssoType",defaultMessage:"Upon claiming your account, you will only be able to login with AD/LDAP"})),w.a.createElement("p",null,w.a.createElement(h.FormattedMessage,{id:"claim.email_to_ldap.ssoNote",defaultMessage:"You must already have a valid AD/LDAP account"})),w.a.createElement("p",null,w.a.createElement(h.FormattedMessage,{id:"claim.email_to_ldap.enterPwd",defaultMessage:"Enter the password for your {site} email account",values:{site:e.window.mm_config.SiteName}})),w.a.createElement("input",{type:"text",style:{display:"none"},name:"fakeusernameremembered"}),w.a.createElement("div",{className:l},w.a.createElement("input",{type:"password",className:"form-control",name:"emailPassword",ref:"emailpassword",autoComplete:"off",placeholder:p.localizeMessage("claim.email_to_ldap.pwd","Password"),spellCheck:"false"})),t,w.a.createElement("p",null,w.a.createElement(h.FormattedMessage,{id:"claim.email_to_ldap.enterLdapPwd",defaultMessage:"Enter the ID and password for your AD/LDAP account"})),w.a.createElement("div",{className:s},w.a.createElement("input",{type:"text",className:"form-control",name:"ldapId",ref:"ldapid",autoComplete:"off",placeholder:i,spellCheck:"false"})),o,w.a.createElement("div",{className:d},w.a.createElement("input",{type:"password",className:"form-control",name:"ldapPassword",ref:"ldappassword",autoComplete:"off",placeholder:m,spellCheck:"false"})),n,w.a.createElement("button",{type:"submit",className:"btn btn-primary"},w.a.createElement(h.FormattedMessage,{id:"claim.email_to_ldap.switchTo",defaultMessage:"Switch account to AD/LDAP"})),a))}}]),r}(w.a.Component);a["default"]=P,P.defaultProps={},P.propTypes={email:w.a.PropTypes.string}}).call(a,r(17))}});