webpackJsonp([48],{1661:function(e,a,r){"use strict";(function(e){var t=r(6),s=t&&t.__esModule?function(){return t["default"]}:function(){return t};r.d(s,"a",s);var o=r(3),l=o&&o.__esModule?function(){return o["default"]}:function(){return o};r.d(l,"a",l);var n=r(4),i=n&&n.__esModule?function(){return n["default"]}:function(){return n};r.d(i,"a",i);var d=r(7),m=d&&d.__esModule?function(){return d["default"]}:function(){return d};r.d(m,"a",m);var c=r(2),u=c&&c.__esModule?function(){return c["default"]}:function(){return c};r.d(u,"a",u);var p=r(13),f=r(322),w=r(1),E=w&&w.__esModule?function(){return w["default"]}:function(){return w};r.d(E,"a",E);var v=r(23),_=v&&v.__esModule?function(){return v["default"]}:function(){return v};r.d(_,"a",_);var h=r(12),g=h&&h.__esModule?function(){return h["default"]}:function(){return h};r.d(g,"a",g);var M=function(a){function t(e){l()(this,t);var a=m()(this,(t.__proto__||s()(t)).call(this,e));return a.submit=a.submit.bind(a),a.state={passwordError:"",confirmError:"",ldapPasswordError:"",serverError:""},a}return u()(t,a),i()(t,[{key:"submit",value:function(e){var a=this;e.preventDefault();var t={passwordError:"",confirmError:"",ldapPasswordError:"",serverError:""},s=_.a.findDOMNode(this.refs.ldappassword).value;if(!s)return t.ldapPasswordError=p.localizeMessage("claim.ldap_to_email.ldapPasswordError","Please enter your AD/LDAP password."),void this.setState(t);var o=_.a.findDOMNode(this.refs.password).value;if(!o)return t.passwordError=p.localizeMessage("claim.ldap_to_email.pwdError","Please enter your password."),void this.setState(t);var l=p.isValidPassword(o);if(""!==l)return void this.setState({passwordError:l});var n=_.a.findDOMNode(this.refs.passwordconfirm).value;return n&&o===n?(this.setState(t),void r.i(f.switchFromLdapToEmail)(this.props.email,o,s,null,function(e){return a.setState({serverError:e.message})})):(t.error=p.localizeMessage("claim.ldap_to_email.pwdNotMatch","Passwords do not match."),void this.setState(t))}},{key:"render",value:function(){var a=null,r="form-group";this.state.serverError&&(a=E.a.createElement("div",{className:"form-group has-error"},E.a.createElement("label",{className:"control-label"},this.state.serverError)),r+=" has-error");var t=null,s="form-group";this.state.passwordError&&(t=E.a.createElement("div",{className:"form-group has-error"},E.a.createElement("label",{className:"control-label"},this.state.passwordError)),s+=" has-error");var o=null,l="form-group";this.state.ldapPasswordError&&(o=E.a.createElement("div",{className:"form-group has-error"},E.a.createElement("label",{className:"control-label"},this.state.ldapPasswordError)),l+=" has-error");var n=null,i="form-group";this.state.confirmError&&(n=E.a.createElement("div",{className:"form-group has-error"},E.a.createElement("label",{className:"control-label"},this.state.confirmError)),i+=" has-error");var d=void 0;return d=e.window.mm_config.LdapPasswordFieldName?e.window.mm_config.LdapPasswordFieldName:p.localizeMessage("claim.ldap_to_email.ldapPwd","AD/LDAP Password"),E.a.createElement("div",null,E.a.createElement("h3",null,E.a.createElement(h.FormattedMessage,{id:"claim.ldap_to_email.title",defaultMessage:"Switch AD/LDAP Account to Email/Password"})),E.a.createElement("form",{onSubmit:this.submit,className:r},E.a.createElement("p",null,E.a.createElement(h.FormattedMessage,{id:"claim.ldap_to_email.ssoType",defaultMessage:"Upon claiming your account, you will only be able to login with your email and password"})),E.a.createElement("p",null,E.a.createElement(h.FormattedMessage,{id:"claim.ldap_to_email.email",defaultMessage:"You will use the email {email} to login",values:{email:this.props.email}})),E.a.createElement("p",null,E.a.createElement(h.FormattedMessage,{id:"claim.ldap_to_email.enterLdapPwd",defaultMessage:"Enter your {ldapPassword} for your {site} email account",values:{ldapPassword:d,site:e.window.mm_config.SiteName}})),E.a.createElement("div",{className:l},E.a.createElement("input",{type:"password",className:"form-control",name:"ldapPassword",ref:"ldappassword",placeholder:d,spellCheck:"false"})),o,E.a.createElement("p",null,E.a.createElement(h.FormattedMessage,{id:"claim.ldap_to_email.enterPwd",defaultMessage:"Enter a new password for your email account"})),E.a.createElement("div",{className:s},E.a.createElement("input",{type:"password",className:"form-control",name:"password",ref:"password",placeholder:p.localizeMessage("claim.ldap_to_email.pwd","Password"),spellCheck:"false"})),t,E.a.createElement("div",{className:i},E.a.createElement("input",{type:"password",className:"form-control",name:"passwordconfirm",ref:"passwordconfirm",placeholder:p.localizeMessage("claim.ldap_to_email.confirm","Confirm Password"),spellCheck:"false"})),n,E.a.createElement("button",{type:"submit",className:"btn btn-primary"},E.a.createElement(h.FormattedMessage,{id:"claim.ldap_to_email.switchTo",defaultMessage:"Switch account to email/password"})),a))}}]),t}(E.a.Component);a["default"]=M,M.defaultProps={},M.propTypes={email:E.a.PropTypes.string}}).call(a,r(17))}});