webpackJsonp([52],{1656:function(e,t,a){"use strict";var n=a(6),r=n&&n.__esModule?function(){return n["default"]}:function(){return n};a.d(r,"a",r);var o=a(3),l=o&&o.__esModule?function(){return o["default"]}:function(){return o};a.d(l,"a",l);var i=a(7),u=i&&i.__esModule?function(){return i["default"]}:function(){return i};a.d(u,"a",u);var s=a(4),c=s&&s.__esModule?function(){return s["default"]}:function(){return s};a.d(c,"a",c);var d=a(2),p=d&&d.__esModule?function(){return d["default"]}:function(){return d};a.d(p,"a",p);var m=a(19),f=a(1630),h=a(12),_=h&&h.__esModule?function(){return h["default"]}:function(){return h};a.d(_,"a",_);var v=a(1),y=v&&v.__esModule?function(){return v["default"]}:function(){return v};a.d(y,"a",y);var g=a(328),M=g&&g.__esModule?function(){return g["default"]}:function(){return g};a.d(M,"a",M);var E=function(e){function t(e){l()(this,t);var a=u()(this,(t.__proto__||r()(t)).call(this,e));return a.handleAllow=a.handleAllow.bind(a),a.handleDeny=a.handleDeny.bind(a),a.state={},a}return p()(t,e),c()(t,null,[{key:"propTypes",get:function(){return{location:y.a.PropTypes.object.isRequired,params:y.a.PropTypes.object.isRequired}}}]),c()(t,[{key:"componentWillMount",value:function(){var e=this;m.a.getOAuthAppInfo(this.props.location.query.client_id,function(t){e.setState({app:t})})}},{key:"componentDidMount",value:function(){var e=document.getElementById("antiClickjack");e&&e.parentNode.removeChild(e)}},{key:"handleAllow",value:function(){var e=this,t=this.props.location.query;m.a.allowOAuth2(t.response_type,t.client_id,t.redirect_uri,t.state,t.scope,function(e){e.redirect&&(window.location.href=e.redirect)},function(t){e.setState({error:t.message})})}},{key:"handleDeny",value:function(){window.location.replace(this.props.location.query.redirect_uri+"?error=access_denied")}},{key:"render",value:function(){var e=this.state.app;if(!e)return null;var t=void 0;t=e.icon_url?e.icon_url:M.a;var a=void 0;return this.state.error&&(a=y.a.createElement("div",{className:"prompt__error form-group"},y.a.createElement(f.a,{error:this.state.error}))),y.a.createElement("div",{className:"container-fluid"},y.a.createElement("div",{className:"prompt"},y.a.createElement("div",{className:"prompt__heading"},y.a.createElement("div",{className:"prompt__app-icon"},y.a.createElement("img",{src:t,width:"50",height:"50",alt:""})),y.a.createElement("div",{className:"text"},y.a.createElement(h.FormattedHTMLMessage,{id:"authorize.title",defaultMessage:"<strong>{appName}</strong> would like to connect to your <strong>Mattermost</strong> user account",values:{appName:e.name}}))),y.a.createElement("p",null,y.a.createElement(h.FormattedHTMLMessage,{id:"authorize.app",defaultMessage:"The app <strong>{appName}</strong> would like the ability to access and modify your basic information.",values:{appName:e.name}})),y.a.createElement("h2",{className:"prompt__allow"},y.a.createElement(h.FormattedHTMLMessage,{id:"authorize.access",defaultMessage:"Allow <strong>{appName}</strong> access?",values:{appName:e.name}})),y.a.createElement("div",{className:"prompt__buttons"},y.a.createElement("button",{type:"submit",className:"btn btn-link authorize-btn",onClick:this.handleDeny},y.a.createElement(h.FormattedMessage,{id:"authorize.deny",defaultMessage:"Deny"})),y.a.createElement("button",{type:"submit",className:"btn btn-primary authorize-btn",onClick:this.handleAllow},y.a.createElement(h.FormattedMessage,{id:"authorize.allow",defaultMessage:"Allow"}))),a))}}]),t}(y.a.Component);t["default"]=E}});