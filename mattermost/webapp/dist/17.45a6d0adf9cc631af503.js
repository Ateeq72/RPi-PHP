webpackJsonp([17],{1685:function(e,t,n){"use strict";var a=n(6),o=a&&a.__esModule?function(){return a["default"]}:function(){return a};n.d(o,"a",o);var i=n(3),r=i&&i.__esModule?function(){return i["default"]}:function(){return i};n.d(r,"a",r);var s=n(7),l=s&&s.__esModule?function(){return s["default"]}:function(){return s};n.d(l,"a",l);var d=n(4),u=d&&d.__esModule?function(){return d["default"]}:function(){return d};n.d(u,"a",u);var c=n(2),m=c&&c.__esModule?function(){return c["default"]}:function(){return c};n.d(m,"a",m);var h=n(1),f=h&&h.__esModule?function(){return h["default"]}:function(){return h};n.d(f,"a",f);var g=n(26),_=n(1635),p=n(37),k=n(13),v=n(1636),b=n(12),M=b&&b.__esModule?function(){return b["default"]}:function(){return b};n.d(M,"a",M);var y=n(1858),E=function(e){function t(e){r()(this,t);var n=l()(this,(t.__proto__||o()(t)).call(this,e));n.handleIntegrationChange=n.handleIntegrationChange.bind(n),n.deleteIncomingWebhook=n.deleteIncomingWebhook.bind(n);var a=p.a.getCurrentId();return n.state={incomingWebhooks:_.a.getIncomingWebhooks(a),loading:!_.a.hasReceivedIncomingWebhooks(a)},n}return m()(t,e),u()(t,null,[{key:"propTypes",get:function(){return{team:f.a.propTypes.object.isRequired}}}]),u()(t,[{key:"componentDidMount",value:function(){_.a.addChangeListener(this.handleIntegrationChange),"true"===window.mm_config.EnableIncomingWebhooks&&g.listIncomingHooks()}},{key:"componentWillUnmount",value:function(){_.a.removeChangeListener(this.handleIntegrationChange)}},{key:"handleIntegrationChange",value:function(){var e=p.a.getCurrentId();this.setState({incomingWebhooks:_.a.getIncomingWebhooks(e),loading:!_.a.hasReceivedIncomingWebhooks(e)})}},{key:"deleteIncomingWebhook",value:function(e){g.deleteIncomingHook(e.id)}},{key:"render",value:function(){var e=this,t=this.state.incomingWebhooks.map(function(t){return f.a.createElement(y.a,{key:t.id,incomingWebhook:t,onDelete:e.deleteIncomingWebhook})});return f.a.createElement(v.a,{header:f.a.createElement(b.FormattedMessage,{id:"installed_incoming_webhooks.header",defaultMessage:"Installed Incoming Webhooks"}),addText:f.a.createElement(b.FormattedMessage,{id:"installed_incoming_webhooks.add",defaultMessage:"Add Incoming Webhook"}),addLink:"/"+this.props.team.name+"/integrations/incoming_webhooks/add",emptyText:f.a.createElement(b.FormattedMessage,{id:"installed_incoming_webhooks.empty",defaultMessage:"No incoming webhooks found"}),helpText:f.a.createElement(b.FormattedMessage,{id:"installed_incoming_webhooks.help",defaultMessage:"Create incoming webhook URLs for use in external integrations. Please see {link} to learn more.",values:{link:f.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"http://docs.mattermost.com/developer/webhooks-incoming.html"},f.a.createElement(b.FormattedMessage,{id:"installed_incoming_webhooks.helpLink",defaultMessage:"documentation"}))}}),searchPlaceholder:k.localizeMessage("installed_incoming_webhooks.search","Search Incoming Webhooks"),loading:this.state.loading},t)}}]),t}(f.a.Component);t["default"]=E},1858:function(e,t,n){"use strict";var a=n(6),o=a&&a.__esModule?function(){return a["default"]}:function(){return a};n.d(o,"a",o);var i=n(3),r=i&&i.__esModule?function(){return i["default"]}:function(){return i};n.d(r,"a",r);var s=n(7),l=s&&s.__esModule?function(){return s["default"]}:function(){return s};n.d(l,"a",l);var d=n(4),u=d&&d.__esModule?function(){return d["default"]}:function(){return d};n.d(u,"a",u);var c=n(2),m=c&&c.__esModule?function(){return c["default"]}:function(){return c};n.d(m,"a",m);var h=n(1),f=h&&h.__esModule?function(){return h["default"]}:function(){return h};n.d(f,"a",f);var g=n(36),_=n(13),p=n(12),k=p&&p.__esModule?function(){return p["default"]}:function(){return p};n.d(k,"a",k);var v=function(e){function t(e){r()(this,t);var n=l()(this,(t.__proto__||o()(t)).call(this,e));return n.handleDelete=n.handleDelete.bind(n),n}return m()(t,e),u()(t,null,[{key:"propTypes",get:function(){return{incomingWebhook:f.a.PropTypes.object.isRequired,onDelete:f.a.PropTypes.func.isRequired,filter:f.a.PropTypes.string}}}]),u()(t,[{key:"handleDelete",value:function(e){e.preventDefault(),this.props.onDelete(this.props.incomingWebhook)}},{key:"matchesFilter",value:function(e,t,n){return!n||(e.display_name.toLowerCase().indexOf(n)!==-1||e.description.toLowerCase().indexOf(n)!==-1||!(!e.channel_id||!t||t.name.toLowerCase().indexOf(n)===-1))}},{key:"render",value:function(){var e=this.props.incomingWebhook,t=g.a.get(e.channel_id),n=this.props.filter?this.props.filter.toLowerCase():"";if(!this.matchesFilter(e,t,n))return null;var a=void 0;a=e.display_name?e.display_name:t?t.display_name:f.a.createElement(p.FormattedMessage,{id:"installed_incoming_webhooks.unknown_channel",defaultMessage:"A Private Webhook"});var o=null;return e.description&&(o=f.a.createElement("div",{className:"item-details__row"},f.a.createElement("span",{className:"item-details__description"},e.description))),f.a.createElement("div",{className:"backstage-list__item"},f.a.createElement("div",{className:"item-details"},f.a.createElement("div",{className:"item-details__row"},f.a.createElement("span",{className:"item-details__name"},a)),o,f.a.createElement("div",{className:"item-details__row"},f.a.createElement("span",{className:"item-details__url"},f.a.createElement(p.FormattedMessage,{id:"installed_integrations.url",defaultMessage:"URL: {url}",values:{url:_.getSiteURL()+"/hooks/"+e.id}}))),f.a.createElement("div",{className:"item-details__row"},f.a.createElement("span",{className:"item-details__creation"},f.a.createElement(p.FormattedMessage,{id:"installed_integrations.creation",defaultMessage:"Created by {creator} on {createAt, date, full}",values:{creator:_.displayUsername(e.user_id),createAt:e.create_at}})))),f.a.createElement("div",{className:"item-actions"},f.a.createElement("a",{href:"#",onClick:this.handleDelete},f.a.createElement(p.FormattedMessage,{id:"installed_integrations.delete",defaultMessage:"Delete"}))))}}]),t}(f.a.Component);t.a=v}});