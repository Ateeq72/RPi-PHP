webpackJsonp([18],{1684:function(e,a,t){"use strict";var n=t(6),r=n&&n.__esModule?function(){return n["default"]}:function(){return n};t.d(r,"a",r);var o=t(3),s=o&&o.__esModule?function(){return o["default"]}:function(){return o};t.d(s,"a",s);var d=t(7),l=d&&d.__esModule?function(){return d["default"]}:function(){return d};t.d(l,"a",l);var i=t(4),m=i&&i.__esModule?function(){return i["default"]}:function(){return i};t.d(m,"a",m);var u=t(2),c=u&&u.__esModule?function(){return u["default"]}:function(){return u};t.d(c,"a",c);var f=t(1),_=f&&f.__esModule?function(){return f["default"]}:function(){return f};t.d(_,"a",_);var g=t(26),h=t(1635),p=t(37),v=t(13),k=t(1636),C=t(12),M=C&&C.__esModule?function(){return C["default"]}:function(){return C};t.d(M,"a",M);var E=t(1857),y=function(e){function a(e){s()(this,a);var t=l()(this,(a.__proto__||r()(a)).call(this,e));t.handleIntegrationChange=t.handleIntegrationChange.bind(t),t.regenCommandToken=t.regenCommandToken.bind(t),t.deleteCommand=t.deleteCommand.bind(t);var n=p.a.getCurrentId();return t.state={commands:h.a.getCommands(n),loading:!h.a.hasReceivedCommands(n)},t}return c()(a,e),m()(a,null,[{key:"propTypes",get:function(){return{team:_.a.propTypes.object.isRequired}}}]),m()(a,[{key:"componentDidMount",value:function(){h.a.addChangeListener(this.handleIntegrationChange),"true"===window.mm_config.EnableCommands&&g.listTeamCommands()}},{key:"componentWillUnmount",value:function(){h.a.removeChangeListener(this.handleIntegrationChange)}},{key:"handleIntegrationChange",value:function(){var e=p.a.getCurrentId();this.setState({commands:h.a.getCommands(e),loading:!h.a.hasReceivedCommands(e)})}},{key:"regenCommandToken",value:function(e){g.regenCommandToken(e.id)}},{key:"deleteCommand",value:function(e){g.deleteCommand(e.id)}},{key:"render",value:function(){var e=this,a=this.state.commands.map(function(a){return _.a.createElement(E.a,{key:a.id,command:a,onRegenToken:e.regenCommandToken,onDelete:e.deleteCommand})});return _.a.createElement(k.a,{header:_.a.createElement(C.FormattedMessage,{id:"installed_commands.header",defaultMessage:"Installed Slash Commands"}),addText:_.a.createElement(C.FormattedMessage,{id:"installed_commands.add",defaultMessage:"Add Slash Command"}),addLink:"/"+this.props.team.name+"/integrations/commands/add",emptyText:_.a.createElement(C.FormattedMessage,{id:"installed_commands.empty",defaultMessage:"No slash commands found"}),helpText:_.a.createElement(C.FormattedMessage,{id:"installed_commands.help",defaultMessage:"Create slash commands for use in external integrations. Please see {link} to learn more.",values:{link:_.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"http://docs.mattermost.com/developer/slash-commands.html"},_.a.createElement(C.FormattedMessage,{id:"installed_commands.helpLink",defaultMessage:"documentation"}))}}),searchPlaceholder:v.localizeMessage("installed_commands.search","Search Slash Commands"),loading:this.state.loading},a)}}]),a}(_.a.Component);a["default"]=y},1857:function(e,a,t){"use strict";var n=t(6),r=n&&n.__esModule?function(){return n["default"]}:function(){return n};t.d(r,"a",r);var o=t(3),s=o&&o.__esModule?function(){return o["default"]}:function(){return o};t.d(s,"a",s);var d=t(7),l=d&&d.__esModule?function(){return d["default"]}:function(){return d};t.d(l,"a",l);var i=t(4),m=i&&i.__esModule?function(){return i["default"]}:function(){return i};t.d(m,"a",m);var u=t(2),c=u&&u.__esModule?function(){return u["default"]}:function(){return u};t.d(c,"a",c);var f=t(1),_=f&&f.__esModule?function(){return f["default"]}:function(){return f};t.d(_,"a",_);var g=t(13),h=t(12),p=h&&h.__esModule?function(){return h["default"]}:function(){return h};t.d(p,"a",p);var v=function(e){function a(e){s()(this,a);var t=l()(this,(a.__proto__||r()(a)).call(this,e));return t.handleRegenToken=t.handleRegenToken.bind(t),t.handleDelete=t.handleDelete.bind(t),t.matchesFilter=t.matchesFilter.bind(t),t}return c()(a,e),m()(a,null,[{key:"propTypes",get:function(){return{command:_.a.PropTypes.object.isRequired,onRegenToken:_.a.PropTypes.func.isRequired,onDelete:_.a.PropTypes.func.isRequired,filter:_.a.PropTypes.string}}}]),m()(a,[{key:"handleRegenToken",value:function(e){e.preventDefault(),this.props.onRegenToken(this.props.command)}},{key:"handleDelete",value:function(e){e.preventDefault(),this.props.onDelete(this.props.command)}},{key:"matchesFilter",value:function(e,a){return!a||(e.display_name.toLowerCase().indexOf(a)!==-1||e.description.toLowerCase().indexOf(a)!==-1||e.trigger.toLowerCase().indexOf(a)!==-1)}},{key:"render",value:function(){var e=this.props.command,a=this.props.filter?this.props.filter.toLowerCase():"";if(!this.matchesFilter(e,a))return null;var t=void 0;t=e.display_name?e.display_name:_.a.createElement(h.FormattedMessage,{id:"installed_commands.unnamed_command",defaultMessage:"Unnamed Slash Command"});var n=null;e.description&&(n=_.a.createElement("div",{className:"item-details__row"},_.a.createElement("span",{className:"item-details__description"},e.description)));var r="- /"+e.trigger;return e.auto_complete&&e.auto_complete_hint&&(r+=" "+e.auto_complete_hint),_.a.createElement("div",{className:"backstage-list__item"},_.a.createElement("div",{className:"item-details"},_.a.createElement("div",{className:"item-details__row"},_.a.createElement("span",{className:"item-details__name"},t),_.a.createElement("span",{className:"item-details__trigger"},r)),n,_.a.createElement("div",{className:"item-details__row"},_.a.createElement("span",{className:"item-details__token"},_.a.createElement(h.FormattedMessage,{id:"installed_integrations.token",defaultMessage:"Token: {token}",values:{token:e.token}}))),_.a.createElement("div",{className:"item-details__row"},_.a.createElement("span",{className:"item-details__creation"},_.a.createElement(h.FormattedMessage,{id:"installed_integrations.creation",defaultMessage:"Created by {creator} on {createAt, date, full}",values:{creator:g.displayUsername(e.creator_id),createAt:e.create_at}})))),_.a.createElement("div",{className:"item-actions"},_.a.createElement("a",{href:"#",onClick:this.handleRegenToken},_.a.createElement(h.FormattedMessage,{id:"installed_integrations.regenToken",defaultMessage:"Regenerate Token"}))," - ",_.a.createElement("a",{href:"#",onClick:this.handleDelete},_.a.createElement(h.FormattedMessage,{id:"installed_integrations.delete",defaultMessage:"Delete"}))))}}]),a}(_.a.Component);a.a=v}});