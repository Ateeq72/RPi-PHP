webpackJsonp([1],{1844:function(e,t,n){"use strict";var a=n(6),r=a&&a.__esModule?function(){return a["default"]}:function(){return a};n.d(r,"a",r);var u=n(3),o=u&&u.__esModule?function(){return u["default"]}:function(){return u};n.d(o,"a",o);var i=n(4),s=i&&i.__esModule?function(){return i["default"]}:function(){return i};n.d(s,"a",s);var l=n(7),c=l&&l.__esModule?function(){return l["default"]}:function(){return l};n.d(c,"a",c);var d=n(2),m=d&&d.__esModule?function(){return d["default"]}:function(){return d};n.d(m,"a",m);var f=n(1),p=f&&f.__esModule?function(){return f["default"]}:function(){return f};n.d(p,"a",p);var _=n(53),g=function(e){function t(){return o()(this,t),c()(this,(t.__proto__||r()(t)).apply(this,arguments))}return m()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.title,a=e.icon,r=e.parentLink,u=e.children,o=r+"/"+t,i=null;return u.length>0&&this.context.router.isActive(o)&&(i=p.a.createElement("ul",{className:"sections"},p.a.Children.map(u,function(e){return e?p.a.cloneElement(e,{parentLink:o}):e}))),p.a.createElement("li",{className:"backstage-sidebar__category"},p.a.createElement(_.b,{to:o,className:"category-title",activeClassName:"category-title--active",onlyActiveOnIndex:!0},p.a.createElement("i",{className:"fa "+a}),p.a.createElement("span",{className:"category-title__text"},n)),i)}}],[{key:"propTypes",get:function(){return{name:p.a.PropTypes.string.isRequired,title:p.a.PropTypes.node.isRequired,icon:p.a.PropTypes.string.isRequired,parentLink:p.a.PropTypes.string,children:p.a.PropTypes.arrayOf(p.a.PropTypes.element)}}},{key:"defaultProps",get:function(){return{parentLink:"",children:[]}}},{key:"contextTypes",get:function(){return{router:p.a.PropTypes.object.isRequired}}}]),t}(p.a.Component);t.a=g},1845:function(e,t,n){"use strict";(function(e){var a=n(6),r=a&&a.__esModule?function(){return a["default"]}:function(){return a};n.d(r,"a",r);var u=n(3),o=u&&u.__esModule?function(){return u["default"]}:function(){return u};n.d(o,"a",o);var i=n(4),s=i&&i.__esModule?function(){return i["default"]}:function(){return i};n.d(s,"a",s);var l=n(7),c=l&&l.__esModule?function(){return l["default"]}:function(){return l};n.d(c,"a",c);var d=n(2),m=d&&d.__esModule?function(){return d["default"]}:function(){return d};n.d(m,"a",m);var f=n(1),p=f&&f.__esModule?function(){return f["default"]}:function(){return f};n.d(p,"a",p);var _=n(12),g=_&&_.__esModule?function(){return _["default"]}:function(){return _};n.d(g,"a",g);var h=n(53),v=function(t){function n(){return o()(this,n),c()(this,(n.__proto__||r()(n)).apply(this,arguments))}return m()(n,t),s()(n,[{key:"render",value:function(){return this.props.team?p.a.createElement("div",{className:"backstage-navbar"},p.a.createElement(h.b,{className:"backstage-navbar__back",to:"/"+this.props.team.name+"/channels/town-square"},p.a.createElement("i",{className:"fa fa-angle-left"}),p.a.createElement("span",null,p.a.createElement(_.FormattedMessage,{id:"backstage_navbar.backToMattermost",defaultMessage:"Back to {siteName}",values:{siteName:e.window.mm_config.SiteName}})))):null}}],[{key:"propTypes",get:function(){return{team:p.a.propTypes.object.isRequired}}}]),n}(p.a.Component);t.a=v}).call(t,n(17))},1846:function(e,t,n){"use strict";var a=n(6),r=a&&a.__esModule?function(){return a["default"]}:function(){return a};n.d(r,"a",r);var u=n(3),o=u&&u.__esModule?function(){return u["default"]}:function(){return u};n.d(o,"a",o);var i=n(4),s=i&&i.__esModule?function(){return i["default"]}:function(){return i};n.d(s,"a",s);var l=n(7),c=l&&l.__esModule?function(){return l["default"]}:function(){return l};n.d(c,"a",c);var d=n(2),m=d&&d.__esModule?function(){return d["default"]}:function(){return d};n.d(m,"a",m);var f=n(1),p=f&&f.__esModule?function(){return f["default"]}:function(){return f};n.d(p,"a",p);var _=n(53),g=function(e){function t(){return o()(this,t),c()(this,(t.__proto__||r()(t)).apply(this,arguments))}return m()(t,e),s()(t,[{key:"getLink",value:function(){return this.props.parentLink+"/"+this.props.name}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.subsection,a=e.children,r=this.getLink(),u=null;a.length>0&&(u=p.a.createElement("ul",{className:"subsections"},p.a.Children.map(a,function(e){return p.a.cloneElement(e,{parentLink:r,subsection:!0})})));var o="section";return n&&(o="subsection"),p.a.createElement("li",{className:o},p.a.createElement(_.b,{className:o+"-title",activeClassName:o+"-title--active",onClick:this.handleClick,to:r},p.a.createElement("span",{className:o+"-title__text"},t)),u)}}],[{key:"propTypes",get:function(){return{name:p.a.PropTypes.string.isRequired,title:p.a.PropTypes.node.isRequired,parentLink:p.a.PropTypes.string,subsection:p.a.PropTypes.bool,children:p.a.PropTypes.arrayOf(p.a.PropTypes.element)}}},{key:"defaultProps",get:function(){return{parentLink:"",subsection:!1,children:[]}}},{key:"contextTypes",get:function(){return{router:p.a.PropTypes.object.isRequired}}}]),t}(p.a.Component);t.a=g},1847:function(e,t,n){"use strict";var a=n(6),r=a&&a.__esModule?function(){return a["default"]}:function(){return a};n.d(r,"a",r);var u=n(3),o=u&&u.__esModule?function(){return u["default"]}:function(){return u};n.d(o,"a",o);var i=n(4),s=i&&i.__esModule?function(){return i["default"]}:function(){return i};n.d(s,"a",s);var l=n(7),c=l&&l.__esModule?function(){return l["default"]}:function(){return l};n.d(c,"a",c);var d=n(2),m=d&&d.__esModule?function(){return d["default"]}:function(){return d};n.d(m,"a",m);var f=n(1),p=f&&f.__esModule?function(){return f["default"]}:function(){return f};n.d(p,"a",p);var _=n(37),g=n(13),h=n(1844),v=n(1846),b=n(12),y=b&&b.__esModule?function(){return b["default"]}:function(){return b};n.d(y,"a",y);var k=function(e){function t(){return o()(this,t),c()(this,(t.__proto__||r()(t)).apply(this,arguments))}return m()(t,e),s()(t,[{key:"renderCustomEmoji",value:function(){return"true"===window.mm_config.EnableCustomEmoji&&g.canCreateCustomEmoji(this.props.user)?p.a.createElement(h.a,{name:"emoji",parentLink:"/"+this.props.team.name,icon:"fa-smile-o",title:p.a.createElement(b.FormattedMessage,{id:"backstage_sidebar.emoji",defaultMessage:"Custom Emoji"})}):null}},{key:"renderIntegrations",value:function(){var e=window.mm_config,t=g.isSystemAdmin(this.props.user.roles);if("true"!==e.EnableIncomingWebhooks&&"true"!==e.EnableOutgoingWebhooks&&"true"!==e.EnableCommands&&"true"!==e.EnableOAuthServiceProvider)return null;if("false"!==e.EnableOnlyAdminIntegrations&&!t&&!_.a.isTeamAdmin(this.props.user.id,this.props.team.id))return null;var n=null;"true"===e.EnableIncomingWebhooks&&(n=p.a.createElement(v.a,{name:"incoming_webhooks",title:p.a.createElement(b.FormattedMessage,{id:"backstage_sidebar.integrations.incoming_webhooks",defaultMessage:"Incoming Webhooks"})}));var a=null;"true"===e.EnableOutgoingWebhooks&&(a=p.a.createElement(v.a,{name:"outgoing_webhooks",title:p.a.createElement(b.FormattedMessage,{id:"backstage_sidebar.integrations.outgoing_webhooks",defaultMessage:"Outgoing Webhooks"})}));var r=null;"true"===e.EnableCommands&&(r=p.a.createElement(v.a,{name:"commands",title:p.a.createElement(b.FormattedMessage,{id:"backstage_sidebar.integrations.commands",defaultMessage:"Slash Commands"})}));var u=null;return"true"!==e.EnableOAuthServiceProvider||!t&&"true"===e.EnableOnlyAdminIntegrations||(u=p.a.createElement(v.a,{name:"oauth2-apps",title:p.a.createElement(b.FormattedMessage,{id:"backstage_sidebar.integrations.oauthApps",defaultMessage:"OAuth 2.0 Applications"})})),p.a.createElement(h.a,{name:"integrations",parentLink:"/"+this.props.team.name,icon:"fa-link",title:p.a.createElement(b.FormattedMessage,{id:"backstage_sidebar.integrations",defaultMessage:"Integrations"})},n,a,r,u)}},{key:"render",value:function(){return p.a.createElement("div",{className:"backstage-sidebar"},p.a.createElement("ul",null,this.renderCustomEmoji(),this.renderIntegrations()))}}],[{key:"propTypes",get:function(){return{team:p.a.PropTypes.object.isRequired,user:p.a.PropTypes.object.isRequired}}}]),t}(p.a.Component);t.a=k},575:function(e,t,n){"use strict";var a=n(6),r=a&&a.__esModule?function(){return a["default"]}:function(){return a};n.d(r,"a",r);var u=n(3),o=u&&u.__esModule?function(){return u["default"]}:function(){return u};n.d(o,"a",o);var i=n(7),s=i&&i.__esModule?function(){return i["default"]}:function(){return i};n.d(s,"a",s);var l=n(4),c=l&&l.__esModule?function(){return l["default"]}:function(){return l};n.d(c,"a",c);var d=n(2),m=d&&d.__esModule?function(){return d["default"]}:function(){return d};n.d(m,"a",m);var f=n(1),p=f&&f.__esModule?function(){return f["default"]}:function(){return f};n.d(p,"a",p);var _=n(37),g=n(1847),h=n(1845),v=n(1633),b=function(e){function t(e){o()(this,t);var n=s()(this,(t.__proto__||r()(t)).call(this,e));return n.onTeamChange=n.onTeamChange.bind(n),n.state={team:e.params.team?_.a.getByName(e.params.team):_.a.getCurrent()},n}return m()(t,e),c()(t,null,[{key:"propTypes",get:function(){return{children:p.a.PropTypes.node.isRequired,params:p.a.PropTypes.object.isRequired,user:p.a.PropTypes.user.isRequired}}}]),c()(t,[{key:"componentDidMount",value:function(){_.a.addChangeListener(this.onTeamChange)}},{key:"componentWillUnmount",value:function(){_.a.removeChangeListener(this.onTeamChange)}},{key:"onTeamChange",value:function(){this.state={team:this.props.params.team?_.a.getByName(this.props.params.team):_.a.getCurrent()}}},{key:"render",value:function(){var e=this;return p.a.createElement("div",{className:"backstage"},p.a.createElement(v.a,null),p.a.createElement(h.a,{team:this.state.team}),p.a.createElement("div",{className:"backstage-body"},p.a.createElement(g.a,{team:this.state.team,user:this.props.user}),p.a.Children.map(this.props.children,function(t){return t?p.a.cloneElement(t,{team:e.state.team,user:e.props.user}):t})))}}]),t}(p.a.Component);t["default"]=b}});