webpackJsonp([23],{1698:function(e,a,t){"use strict";(function(e){var n=t(6),s=n&&n.__esModule?function(){return n["default"]}:function(){return n};t.d(s,"a",s);var r=t(3),l=r&&r.__esModule?function(){return r["default"]}:function(){return r};t.d(l,"a",l);var i=t(7),o=i&&i.__esModule?function(){return i["default"]}:function(){return i};t.d(o,"a",o);var d=t(4),u=d&&d.__esModule?function(){return d["default"]}:function(){return d};t.d(u,"a",u);var c=t(2),m=c&&c.__esModule?function(){return c["default"]}:function(){return c};t.d(m,"a",m);var p=t(1630),g=t(54),h=t(566),f=t(13),_=t(19),v=t(1),w=v&&v.__esModule?function(){return v["default"]}:function(){return v};t.d(w,"a",w);var E=t(12),L=E&&E.__esModule?function(){return E["default"]}:function(){return E};t.d(L,"a",L);var y=t(53),M=t(1632),S=M&&M.__esModule?function(){return M["default"]}:function(){return M};t.d(S,"a",S);var b=function(a){function n(e){l()(this,n);var a=o()(this,(n.__proto__||s()(n)).call(this,e));return a.handleLdapSignup=a.handleLdapSignup.bind(a),a.handleLdapSignupSuccess=a.handleLdapSignupSuccess.bind(a),a.handleLdapIdChange=a.handleLdapIdChange.bind(a),a.handleLdapPasswordChange=a.handleLdapPasswordChange.bind(a),a.state={ldapError:"",ldapId:"",ldapPassword:""},a}return m()(n,a),u()(n,null,[{key:"propTypes",get:function(){return{location:w.a.PropTypes.object}}}]),u()(n,[{key:"handleLdapIdChange",value:function(e){this.setState({ldapId:e.target.value})}},{key:"handleLdapPasswordChange",value:function(e){this.setState({ldapPassword:e.target.value})}},{key:"handleLdapSignup",value:function(e){var a=this;e.preventDefault(),this.setState({ldapError:""}),_.a.webLoginByLdap(this.state.ldapId,this.state.ldapPassword,null,this.handleLdapSignupSuccess,function(e){a.setState({ldapError:e.message})})}},{key:"handleLdapSignupSuccess",value:function(){var e=this;this.props.location.query.id||this.props.location.query.h?_.a.addUserToTeamFromInvite(this.props.location.query.d,this.props.location.query.h,this.props.location.query.id,function(){e.finishSignup()},function(){e.finishSignup()}):this.finishSignup()}},{key:"finishSignup",value:function(){g.emitInitialLoad(function(){g.loadDefaultLocale(),y.a.push("/select_team")})}},{key:"render",value:function(){t.i(h.b)("signup","signup_user_01_welcome");var a=void 0;a=e.window.mm_config.LdapLoginFieldName?e.window.mm_config.LdapLoginFieldName:f.localizeMessage("login.ldap_username","AD/LDAP Username");var n="";this.state.ldapError&&(n+=" has-error");var s=void 0;if("true"!==e.window.mm_config.EnableLdap||"true"!==e.window.mm_license.IsLicensed||!e.window.mm_license.LDAP)return null;s=w.a.createElement("div",{className:"inner__content"},w.a.createElement("h5",null,w.a.createElement("strong",null,w.a.createElement(E.FormattedMessage,{id:"signup.ldap",defaultMessage:"AD/LDAP Credentials"}))),w.a.createElement("form",{onSubmit:this.handleLdapSignup},w.a.createElement("div",{className:"signup__email-container"},w.a.createElement(p.a,{error:this.state.ldapError,margin:!0}),w.a.createElement("div",{className:"form-group"+n},w.a.createElement("input",{className:"form-control",name:"ldapId",value:this.state.ldapId,placeholder:a,onChange:this.handleLdapIdChange,spellCheck:"false",autoCapitalize:"off"})),w.a.createElement("div",{className:"form-group"+n},w.a.createElement("input",{type:"password",className:"form-control",name:"password",value:this.state.ldapPassword,placeholder:f.localizeMessage("login.password","Password"),onChange:this.handleLdapPasswordChange,spellCheck:"false"})),w.a.createElement("div",{className:"form-group"},w.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:!this.state.ldapId||!this.state.ldapPassword},w.a.createElement(E.FormattedMessage,{id:"login.signIn",defaultMessage:"Sign in"}))))));var r=null;s&&(r=w.a.createElement("p",null,w.a.createElement(E.FormattedHTMLMessage,{id:"create_team.agreement",defaultMessage:"By proceeding to create your account and use {siteName}, you agree to our <a href='/static/help/terms.html'>Terms of Service</a> and <a href='/static/help/privacy.html'>Privacy Policy</a>. If you do not agree, you cannot use {siteName}.",values:{siteName:e.window.mm_config.SiteName}})));var l=null;return l="true"===e.window.mm_license.IsLicensed&&"true"===e.window.mm_license.CustomBrand&&"true"===e.window.mm_config.EnableCustomBrand?e.window.mm_config.CustomDescriptionText:w.a.createElement(E.FormattedMessage,{id:"web.root.signup_info",defaultMessage:"All team communication in one place, searchable and accessible anywhere"}),w.a.createElement("div",null,w.a.createElement("div",{className:"signup-header"},w.a.createElement(y.b,{to:"/signup_user_complete"},w.a.createElement("span",{className:"fa fa-chevron-left"}),w.a.createElement(E.FormattedMessage,{id:"web.header.back"}))),w.a.createElement("div",{className:"col-sm-12"},w.a.createElement("div",{className:"signup-team__container padding--less"},w.a.createElement("img",{className:"signup-team-logo",src:S.a}),w.a.createElement("h1",null,e.window.mm_config.SiteName),w.a.createElement("h4",{className:"color--light"},l),w.a.createElement("h4",{className:"color--light"},w.a.createElement(E.FormattedMessage,{id:"signup_user_completed.lets",defaultMessage:"Let's create your account"})),w.a.createElement("span",{className:"color--light"},w.a.createElement(E.FormattedMessage,{id:"signup_user_completed.haveAccount",defaultMessage:"Already have an account?"})," ",w.a.createElement(y.b,{to:"/login",query:this.props.location.query},w.a.createElement(E.FormattedMessage,{id:"signup_user_completed.signIn",defaultMessage:"Click here to sign in."}))),s,r)))}}]),n}(w.a.Component);a["default"]=b}).call(a,t(17))}});